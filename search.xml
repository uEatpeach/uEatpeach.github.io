<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>MyBatis Mapper XML中比较操作符转义问题</title>
      <link href="/2023/08/08/mybatis-xml-escape/"/>
      <url>/2023/08/08/mybatis-xml-escape/</url>
      
        <content type="html"><![CDATA[<p>​</p><h1 id="解决MyBatis-Mapper-XML中比较操作符转义问题-在使用MyBatis编写Mapper-XML时，有时会遇到比较操作符需要进行转义的情况。本文将介绍如何解决比较操作符转义问题。"><a href="#解决MyBatis-Mapper-XML中比较操作符转义问题-在使用MyBatis编写Mapper-XML时，有时会遇到比较操作符需要进行转义的情况。本文将介绍如何解决比较操作符转义问题。" class="headerlink" title="解决MyBatis Mapper XML中比较操作符转义问题 在使用MyBatis编写Mapper XML时，有时会遇到比较操作符需要进行转义的情况。本文将介绍如何解决比较操作符转义问题。"></a>解决MyBatis Mapper XML中比较操作符转义问题 在使用MyBatis编写Mapper XML时，有时会遇到比较操作符需要进行转义的情况。本文将介绍如何解决比较操作符转义问题。</h1><span id="more"></span><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>假设我们在Mapper XML中需要编写一个查询语句，其中包含了一个比较操作符。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getBaseResultMapVo&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.util.HashMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;BaseResultMapVo&quot;</span>&gt;</span></span><br><span class="line">        SELECT pci.id,</span><br><span class="line">               pci.pid,</span><br><span class="line">               pci.case_number,</span><br><span class="line">               pci.rescue_longitude,</span><br><span class="line">               pci.rescue_latitude</span><br><span class="line">        FROM plat_case_info pci</span><br><span class="line">        WHERE pci.pid = #&#123;pId&#125;</span><br><span class="line">        AND DATE_SUB(CURDATE(), INTERVAL 30 DAY) <span class="symbol">&amp;lt;</span>= DATE(pci.entry_time)</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>解决方案<br>有两种常见的解决方案来解决这个问题。</p><p>方法一：转义比较操作符<br>一种解决方案是对比较操作符进行XML转义，将&gt;&#x3D;替换为&gt;&#x3D;。修改后的查询语句如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getBaseResultMapVo&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.util.HashMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;BaseResultMapVo&quot;</span>&gt;</span></span><br><span class="line">        SELECT pci.id,</span><br><span class="line">               pci.pid,</span><br><span class="line">               pci.case_number,</span><br><span class="line">               pci.rescue_longitude,</span><br><span class="line">               pci.rescue_latitude</span><br><span class="line">        FROM plat_case_info pci</span><br><span class="line">        WHERE pci.pid = #&#123;pId&#125;</span><br><span class="line">        AND DATE_SUB(CURDATE(), INTERVAL 30 DAY) <span class="symbol">&amp;lt;</span>= DATE(pci.entry_time)</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意，这里将&gt;&#x3D;转义为&gt;&#x3D;。这样做可以防止比较操作符被解析为XML标签。</p><p>当在XML文档中使用特殊字符时，需要进行转义处理，以避免引起语法错误。下面是常见的XML转义字符：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;：转义为<span class="symbol">&amp;gt;</span></span><br><span class="line">&lt;：转义为<span class="symbol">&amp;lt;</span></span><br><span class="line">&amp;：转义为<span class="symbol">&amp;amp;</span></span><br><span class="line">&quot;：转义为<span class="symbol">&amp;quot;</span></span><br><span class="line">&#x27;：转义为<span class="symbol">&amp;apos;</span></span><br></pre></td></tr></table></figure><p>方法二：使用CDATA块<br>另一种解决方案是将比较操作符放在CDATA块中。CDATA块会将其中的内容视为纯文本，不会进行任何转义。修改后的查询语句如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getBaseResultMapVo&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.util.HashMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;BaseResultMapVo&quot;</span>&gt;</span></span><br><span class="line">        &lt;![CDATA[</span><br><span class="line">        SELECT pci.id,</span><br><span class="line">               pci.pid,</span><br><span class="line">               pci.case_number,</span><br><span class="line">               pci.rescue_longitude,</span><br><span class="line">               pci.rescue_latitude</span><br><span class="line">        FROM plat_case_info pci</span><br><span class="line">        WHERE pci.pid = #&#123;pId&#125;</span><br><span class="line">        AND DATE_SUB(CURDATE(), INTERVAL 30 DAY) &lt;= DATE(pci.entry_time)</span><br><span class="line">        ]]&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>通过使用CDATA块，我们可以避免对比较操作符进行转义操作。</p><p>当然你也可以精确到比较操作符上，如：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getBaseResultMapVo&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;java.util.HashMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;BaseResultMapVo&quot;</span>&gt;</span></span><br><span class="line">        SELECT pci.id,</span><br><span class="line">               pci.pid,</span><br><span class="line">               pci.case_number,</span><br><span class="line">               pci.rescue_longitude,</span><br><span class="line">               pci.rescue_latitude</span><br><span class="line">        FROM plat_case_info pci</span><br><span class="line">        WHERE pci.pid = #&#123;pId&#125;</span><br><span class="line">        AND DATE_SUB(CURDATE(), INTERVAL 30 DAY) &lt;![CDATA[ &lt;=  ]]&gt; DATE(pci.entry_time)</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><p>CDATA块内包含需要转义的特殊字符即可。</p><p>结论<br>当在MyBatis Mapper XML中遇到比较操作符需要进行转义的情况时，可以通过转义操作符或使用CDATA块来解决这个问题。选择其中一种方法即可解决语法错误。</p><p>希望本文对您在解决MyBatis Mapper XML中比较操作符转义问题方面有所帮助。</p><p>​</p>]]></content>
      
      
      
        <tags>
            
            <tag> MyBatis </tag>
            
            <tag> XML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>在使用 MyBatis Plus 进行开发时，由于自动生成的 ID 过长，重新设置数据库自增长ID的起始值</title>
      <link href="/2023/08/04/MyBatis-Plus-bug-first/"/>
      <url>/2023/08/04/MyBatis-Plus-bug-first/</url>
      
        <content type="html"><![CDATA[<!-- # description: '在使用 MyBatis Plus 进行开发时，由于自动生成的 ID 过长，重新设置数据库自增长ID的起始值' --><!-- # 解决 MyBatis Plus 自动生成的过长 ID 问题并重新设置数据库自增长ID的起始值 --><h1 id="解决-MyBatis-Plus-自动生成的过长-ID-问题并重新设置数据库自增长ID的起始值"><a href="#解决-MyBatis-Plus-自动生成的过长-ID-问题并重新设置数据库自增长ID的起始值" class="headerlink" title="解决 MyBatis Plus 自动生成的过长 ID 问题并重新设置数据库自增长ID的起始值"></a>解决 MyBatis Plus 自动生成的过长 ID 问题并重新设置数据库自增长ID的起始值</h1><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>在使用 MyBatis Plus 进行开发时，自动生成的 ID 过长可能导致数据库性能下降、索引冗长等问题。因此，需要解决这个问题。</p><span id="more"></span><p>在某种情况下，当使用 MyBatis Plus 自动生成的 ID 过长时，可能导致其他接口无法按照 int 类型查询数据，因为数据库中设计为 bigint 类型，纯了 19 位数字。为解决这个问题，一种简单的方法是使用数据库的自增长主键来替代 MyBatis Plus 自动生成的 ID，避免生成过长的 ID。</p><p>另外，当在 MySQL 数据库中使用了自增长类型的 ID，并删除了部分数据后，可能需要重新设置自增长 ID 的起始值。以下是两种重置自增长 ID 的方法的详细步骤。</p><h2 id="方法1：使用-ALTER-TABLE-命令"><a href="#方法1：使用-ALTER-TABLE-命令" class="headerlink" title="方法1：使用 ALTER TABLE 命令"></a>方法1：使用 ALTER TABLE 命令</h2><p>首先确认要重置自增长 ID 的表名，例如表名为 <code>base_user</code>。</p><ol><li>执行以下 SQL 语句获取表中的最大 ID 值：<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(id) <span class="keyword">FROM</span> base_user;</span><br><span class="line">将最大 ID 值加<span class="number">1</span>，并执行以下 <span class="keyword">SQL</span> 语句重置自增长 ID，假设最大 ID 值为 <span class="number">2000</span>：</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> base_user AUTO_INCREMENT <span class="operator">=</span> <span class="number">2001</span>;</span><br><span class="line">这样，以后插入数据时，自增长 ID 将从 <span class="number">2001</span> 开始递增。</span><br></pre></td></tr></table></figure></li></ol><p>方法2：使用 TRUNCATE TABLE 命令<br>首先确认要重置自增长 ID 的表名，例如表名为 base_user。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">执行以下 <span class="keyword">SQL</span> 语句来清空表并重置自增长 ID（注意：该命令会删除表中的所有数据，请确保已备份重要数据）：</span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> base_user;</span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> 命令将删除表中的所有数据，并重新创建表，自动将自增长 ID 重置为 <span class="number">1</span> 开始。</span><br></pre></td></tr></table></figure><p>注意：在生产环境中，请谨慎使用重置自增长 ID 的方法，以确保数据的完整性和一致性。</p><p>使用数据库自增长主键的解决方案<br>为了解决 MyBatis Plus 自动生成的过长 ID 问题，可以使用数据库的自增长主键来替代 MyBatis Plus 自动生成的 ID，从而生成相对较短的 ID。</p><p>解决方案步骤<br>在实体类的 ID 字段上添加 @TableId(type &#x3D; IdType.AUTO) 注解，指定使用数据库的自增长主键。示例代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YourEntity</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(type = IdType.AUTO)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 其他字段</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在数据库中创建相应的表，并将 ID 字段设置为自增长（一般使用 AUTO_INCREMENT 或类似方法实现）。示例 SQL 代码如下：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> your_table (</span><br><span class="line">    id <span class="type">bigint</span> AUTO_INCREMENT <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">    <span class="comment">-- 其他字段</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>这样，MyBatis Plus 将使用数据库自增长主键来生成 ID，避免了生成过长的 ID。</p><p>请注意，这种简化的解决方案依赖于数据库的自增长主键功能，所以请确保数据库表的设置是支持自增长主键的。</p><p>总结<br>通过使用数据库的自增长主键来替代 MyBatis Plus 自动生成的过长 ID，可以提高数据库性能和索引效率。这是一个简单而有效的解决方案。</p><p>希望这个文档对你有帮助！</p>]]></content>
      
      
      
        <tags>
            
            <tag> MyBatis-Plus </tag>
            
            <tag> MySql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何学习Java</title>
      <link href="/2023/07/17/my-first-blog/"/>
      <url>/2023/07/17/my-first-blog/</url>
      
        <content type="html"><![CDATA[<!-- # 如何学习 Java --><!-- # description: '本文将为您提供一个步骤性的指南，以帮助您开始学习 Java 编程。' --><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Java 是一种广泛应用于开发各种类型应用程序的编程语言。它的可移植性、面向对象的特性以及强大的生态系统使其成为许多开发者选择的首选语言。本文将为您提供一个步骤性的指南，以帮助您开始学习 Java 编程。</p><span id="more"></span><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>在开始学习 Java 之前，您需要进行一些准备工作：</p><ul><li>安装 Java 开发工具包（JDK）并进行配置。</li><li>在您的计算机上选择并设置 Java 集成开发环境（IDE）。</li></ul><h2 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h2><p>在学习任何编程语言之前，了解其基础知识是至关重要的。以下是您需要掌握的一些 Java 基础知识：</p><ul><li>Java 语言的发展历史和用途。</li><li>Java 的基本语法和命名规范。</li><li>如何编写和运行一个简单的 Java 程序。</li></ul><h2 id="数据类型与变量"><a href="#数据类型与变量" class="headerlink" title="数据类型与变量"></a>数据类型与变量</h2><p>Java 提供了多种数据类型，用于存储不同类型的值。了解这些数据类型并熟练使用变量是编程的基础：</p><ul><li>Java 的基本数据类型，如整数、浮点数、字符和布尔值。</li><li>如何声明和初始化变量，以及变量的作用域。</li></ul><h2 id="运算符与表达式"><a href="#运算符与表达式" class="headerlink" title="运算符与表达式"></a>运算符与表达式</h2><p>了解 Java 运算符和表达式的使用可以进行各种数学和逻辑操作。以下是一些关键点：</p><ul><li>常用的算术、赋值、比较和逻辑运算符的用法。</li><li>如何使用括号来改变运算顺序。</li><li>字符串的连接和比较。</li></ul><h2 id="控制流"><a href="#控制流" class="headerlink" title="控制流"></a>控制流</h2><p>控制流语句允许您根据条件执行不同的代码块，或者多次执行相同的代码。以下是常用的控制流语句：</p><ul><li>条件语句（<code>if-else</code> 和 <code>switch</code>）的使用。</li><li>循环语句（<code>for</code>、<code>while</code> 和 <code>do-while</code>）的使用。</li></ul><h2 id="对象与类"><a href="#对象与类" class="headerlink" title="对象与类"></a>对象与类</h2><p>Java 是一种面向对象的编程语言，它提供了创建和使用对象的机制。以下是与对象和类相关的重要概念：</p><ul><li>什么是类和对象，以及如何定义它们。</li><li>如何使用类的属性和方法。</li><li>如何实例化对象并访问其属性和方法。</li></ul><h2 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h2><p>面向对象编程（OOP）是 Java 的核心概念之一。了解面向对象编程的原则和实践对于开发复杂的应用程序至关重要：</p><ul><li>封装、继承和多态的概念与用法。</li><li>如何设计良好的类和对象之间的关系。</li></ul><h2 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h2><p>在编程过程中，错误和异常是不可避免的。Java 提供了异常处理机制，以帮助您捕获和处理这些异常：</p><ul><li>异常的分类，包括检查型异常和非检查型异常。</li><li>如何使用 <code>try-catch</code> 块来处理异常。</li><li>如何抛出自定义异常。</li></ul><h2 id="核心-API"><a href="#核心-API" class="headerlink" title="核心 API"></a>核心 API</h2><p>Java 提供了丰富的核心类库，其中包括许多常用的类和方法。以下是一些重要的核心 API：</p><ul><li>字符串操作和正则表达式的使用。</li><li>数字和日期操作。</li><li>文件读写和处理。</li></ul><h2 id="进阶学习资源"><a href="#进阶学习资源" class="headerlink" title="进阶学习资源"></a>进阶学习资源</h2><p>学习 Java 是一个持续的过程，以下是一些优秀的学习资源，可以帮助您深入学习 Java 编程：</p><ul><li>书籍推荐：列出一些著名的 Java 编程书籍。</li><li>在线课程：提供一些免费或付费的在线 Java 编程课程。</li><li>社区和开发者论坛：推荐一些活跃的 Java 开发者社区，其中可以获得解答和交流。</li></ul><h2 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h2><p>本文回顾了从学习 Java 的准备工作到掌握核心概念的过程。强调持续实践和深入学习的重要性，鼓励读者在编程旅程中不断探索和创新。</p><p>希望这篇文章能为您提供一个良好的起点，让您能够更具信心地学习和应用 Java 编程技能。</p>]]></content>
      
      
      
        <tags>
            
            <tag> Java学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2019/02/14/hello-world/"/>
      <url>/2019/02/14/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><span id="more"></span><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
